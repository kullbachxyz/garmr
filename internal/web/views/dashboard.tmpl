{{define "content"}}
<h1>Dashboard</h1>

{{if .LatestCard}}
<section class="card latest-activity-card">
  <div class="latest-top">
    <div class="card-head">Latest activity</div>
    <div class="latest-ago">{{.LatestCard.Ago}}</div>
  </div>
  <div class="latest-meta">
    <a class="latest-title" href="/activity/{{.LatestCard.ID}}">{{.LatestCard.Sport}}</a>
    <span class="latest-date">{{.LatestCard.StartText}}</span>
  </div>
  <div class="metrics latest-metrics">
    <div class="metric"><div class="metric-value">{{printf "%.2f" .LatestCard.DistKm}} <span class="metric-unit">km</span></div><div class="metric-label">Distance</div></div>
    <div class="metric"><div class="metric-value">{{fmtDuration .LatestCard.DurS}}</div><div class="metric-label">Duration</div></div>
    <div class="metric"><div class="metric-value">{{fmtPace .LatestCard.AvgSpd}}</div><div class="metric-label">Avg pace</div></div>
  </div>
</section>
{{end}}

<!-- ====== RECENT ACTIVITIES ====== -->
<section>
  <h2>Recent activities</h2>
  <table class="tbl">
    <tr><th>Start</th><th>Sport</th><th>Distance</th><th>Duration</th></tr>
    {{range .Latest}}
    <tr>
      <td><a href="/activity/{{.ID}}">{{trimUTC .Start}}</a></td>
      <td>{{.Sport}}</td>
      <td>{{printf "%.2f km" .DistKm}}</td>
      <td>{{fmtDuration .DurS}}</td>
    </tr>
    {{else}}
    <tr><td colspan="4">No activities yet.</td></tr>
    {{end}}
  </table>
</section>
{{end}}
